type NFTMetadata = record {
    name: text;
    description: text;
    image: text;
    attributes: vec Attribute;
};

type Attribute = record {
    trait_type: text;
    value: text;
};

type Certificate = record {
    id: nat;
    registered: bool;
    metadata: NFTMetadata;
    owner: text;
};

type Error = variant {
  InvalidTag: ErrorReason;
  TagNotFound: ErrorReason;
  CertificateNotFound: ErrorReason;
  FrameNotFound: ErrorReason;
  PermissionDenied: ErrorReason;
};

type ErrorReason = record {
    msg: text;
};

type Frame = record {
    id: nat;
    owner: text;
    nft_metadata: NFTMetadata;
    nft: NFT
};

type NFT = record {
   id: text;
   contract_address: text;
   chain: text;
};

type VerifyResult = variant {
    Ok: variant {
        Certificate: Certificate;
        Frame: Frame;
    };
    Err: Error;
};

type SetKeyResult = variant {
    Ok: empty;
    Err: Error;
};

service : {
    "verify_tag": (text) -> (VerifyResult) query;
    "set_key": (text, text) -> (SetKeyResult);
    "get_admin": () -> (principal) query;
}
